<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
  <title>TicTacToe</title>
  <style>
    .gameCell{
      height: 40px;
      width:  40px;
      float: left;
      border: 2px solid black;
      font-size: 40px;
      text-align: center;
    }
    #gameBoard{
      margin-left: auto;
      margin-right: auto;
      width: 132px;

    }
    h1{
      text-align: center;
    }
    .clear{
      clear:both;
    }


  </style> 
  <script language="JavaScript">
    var player=1;
    function placePiece(clicked_id){
      if (!isEmpty (clicked_id)){
        alert("This cell is taken, you dumb ass!=)");
        return;
      }
      var currentPlayer=player;
      if (player==1){
        document.getElementById(clicked_id).innerHTML="X";
        document.getElementById(clicked_id).style.background="red";
        player=2;
      }else{
        document.getElementById(clicked_id).innerHTML="O";
        document.getElementById(clicked_id).style.background="green";
        player=1;
      }
      if (isWinner()){
        endGame (currentPlayer);
      }
    }
    function isEmpty(clicked_id){
      return (document.getElementById(clicked_id).innerHTML.trim()=="");
    }
    function isWinner(){
      var gameField = new Array();
      gameField[0]=document.getElementById("cellOne").innerHTML.trim();
      gameField[1]=document.getElementById("cellTwo").innerHTML.trim();
      gameField[2]=document.getElementById("cellThree").innerHTML.trim();
      gameField[3]=document.getElementById("cellFour").innerHTML.trim();
      gameField[4]=document.getElementById("cellFive").innerHTML.trim();
      gameField[5]=document.getElementById("cellSix").innerHTML.trim();
      gameField[6]=document.getElementById("cellSeven").innerHTML.trim();
      gameField[7]=document.getElementById("cellEight").innerHTML.trim();
      gameField[8]=document.getElementById("cellNine").innerHTML.trim();
      if (gameField[0]==gameField[1] && gameField[1]==gameField[2] && gameField[0]!=""){
        return true;
      }
      if (gameField[3]==gameField[4] && gameField[4]==gameField[5] && gameField[3]!=""){
        return true;
      }
      if (gameField[6]==gameField[7] && gameField[7]==gameField[8] && gameField[6]!=""){
        return true;
      }
      if (gameField[0]==gameField[3] && gameField[3]==gameField[6] && gameField[0]!=""){
        return true;
      }
      if (gameField[1]==gameField[4] && gameField[4]==gameField[7] && gameField[1]!=""){
        return true;
      }
      if (gameField[2]==gameField[5] && gameField[5]==gameField[8] && gameField[2]!=""){
        return true;
      }
      if (gameField[0]==gameField[4] && gameField[4]==gameField[8] && gameField[0]!=""){
        return true;
      }
      if (gameField[6]==gameField[6] && gameField[6]==gameField[2] && gameField[6]!=""){
        return true;
      }
      else{
      return false;
      }
    }
    function endGame(currentPlayer){
      if (currentPlayer==1){
        alert("Player X! You won!");
      }else{
      alert("Player O! You won!");
      }
      refresh();
    }
    function refresh(){
      var cellList = document.getElementsByClassName("gameCell");
        for (var i = 0; i < cellList.length; ++i) {
          var indivCell = cellList[i];  
          indivCell.innerHTML = "";
          indivCell.style.background="white";
        }
      player=1;
      alert("Wanna play again?");
    }
  </script> 
</head>
<body>
  <h1> Tic Tac Toe </h1>
  <div id="gameBoard">
    <div class="gameCell" id= "cellOne" onclick="placePiece(this.id)">
    </div>
    <div class="gameCell" id= "cellTwo" onclick="placePiece(this.id)">
    </div>
    <div class="gameCell" id= "cellThree" onclick="placePiece(this.id)">
    </div>
    <div class="clear"> </div>
    <div class="gameCell" id= "cellFour" onclick="placePiece(this.id)">
    </div>
    <div class="gameCell" id= "cellFive" onclick="placePiece(this.id)">
    </div>
    <div class="gameCell" id= "cellSix" onclick="placePiece(this.id)">
    </div>
    <div class="clear"> </div>
    <div class="gameCell" id= "cellSeven" onclick="placePiece(this.id)">
    </div>
    <div class="gameCell" id= "cellEight" onclick="placePiece(this.id)">
    </div>
    <div class="gameCell" id= "cellNine" onclick="placePiece(this.id)">
    </div>
    <div class="clear"> </div>
  </div>
</body>
</html>